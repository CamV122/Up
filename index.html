<!DOCTYPE html>
<html>
<head>
  <title>GPS to Discord</title>
</head>
<body>
  <h1>Getting Location...</h1>
  <script>
    // Replace with your actual Discord webhook URL
    const webhookURL = "https://discord.com/api/webhooks/xxxxxxxx/xxxxxxxx";

    function sendToDiscord(location) {
      const message = {
        content: `📍 Location Update:\nLatitude: ${location.coords.latitude}\nLongitude: ${location.coords.longitude}`
      };

      fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(message)
      })
      .then(res => {
        document.body.innerHTML = "<h1>Location sent to Discord!</h1>";
        console.log("Sent to Discord:", message);
      })
      .catch(err => {
        document.body.innerHTML = "<h1>Failed to send.</h1>";
        console.error("Error:", err);
      });
    }

    function handleError(error) {
      document.body.innerHTML = `<h1>Error: ${error.message}</h1>`;
      console.error("Geolocation error:", error);
    }

    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(sendToDiscord, handleError);
    } else {
      document.body.innerHTML = "<h1>Geolocation not supported by this browser.</h1>";
    }
  </script>
</body>
</html>
